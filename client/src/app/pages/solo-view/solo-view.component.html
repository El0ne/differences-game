<body>
    <div class="info-card" *ngIf="showTextBox">
        <div class="info">
            <p class="title">{{ gameCardInfo.name }}</p>
            <div class="title">Difficulté : {{ gameCardInfo.difficulty }}</div>
            <div class="title">Joueurs présents : 1</div>
            <div class="title">Nombre de différences : {{ numberOfDifferences }}</div>
            <div class="title">Temps perdu par indice/gagné par différence : x</div>
        </div>
        <button class="option-buttons" id="info-quit" type="button" (click)="toggleInfoCard()">
            <mat-icon class="icon">clear</mat-icon>
        </button>
    </div>

    <div class="info-card" *ngIf="showWinMessage">
        <div class="info">
            <p class="title">Vous Avez Gagné! Bravo!</p>
        </div>
        <button class="option-buttons home-button" id="home-win" type="button" routerLink="/home">
            <mat-icon class="icon">home</mat-icon>
        </button>
    </div>

    <div class="nav-bar">
        <div class="options" *ngIf="showNavBar">
            <button class="option-buttons home-button" type="button" routerLink="/home">
                <mat-icon class="icon">home</mat-icon>
            </button>
            <button class="option-buttons" type="button" (click)="toggleInfoCard()">
                <mat-icon class="icon">info</mat-icon>
            </button>
        </div>
        <div class="info-option" *ngIf="showNavBar">
            <button class="option-buttons" type="button" routerLink="/stage-selection">
                <mat-icon class="icon">menu</mat-icon>
            </button>
        </div>
    </div>

    <div class="info-card" *ngIf="showEnterName">
        <div class="info">
            <p class="title">Entrez votre nom</p>
        </div>
        <input type="“text”" id="name" class="name-field" placeholder="Entrez votre nom" />
        <p class="title" *ngIf="showNameErrorMessage">Nom invalide</p>
        <button class="option-buttons win-button" id="info-quit" type="button" (click)="validateName()">
            <mat-icon class="icon">check</mat-icon>
        </button>
    </div>

    <div class="flex-game">
        <app-click-event
            #left
            [id]="1"
            [original]="'original'"
            [gameCardId]="this.currentGameId"
            [imagePath]="this.gameCardInfo.originalImageName"
            (incrementScore)="incrementScore()"
            (differences)="addDifferenceDetected($event)"
            (transmitter)="paintPixel($event)"
            *ngIf="this.gameCardInfo"
        ></app-click-event>
        <div class="game-options">
            <div id="timer">
                <div class="timer-box">
                    <div class="display">
                        <div id="time">{{ timesConvertion(this.timerService.currentTime) }}</div>
                    </div>
                </div>
            </div>

            <div id="score">
                <!-- référence : https://codepen.io/Vivekp1118/pen/YzLOOVG -->
                <div class="container">
                    <div class="row">
                        <div class="col col-heading">
                            <h1>SCORE</h1>
                        </div>
                        <div class="col col-display" id="scoreHome">{{ currentScore }}</div>
                    </div>
                </div>
            </div>

            <div class="text-box">
                <div class="text-area">
                    <div *ngFor="let message of messages">
                        <div class="message">{{ message }}</div>
                    </div>
                    <div class="error-message" *ngIf="showErrorMessage" (click)="untoggleErrorMessage()">
                        Votre message ne respecte pas le bon format. Cliquez ici pour enlever ce message.
                    </div>
                </div>
                <div class="answer-area">
                    <input type="text" class="input-field" placeholder="Entrez votre message" [(ngModel)]="messageContent" />
                    <button class="send-button" (click)="sendMessage()"></button>
                </div>
            </div>
        </div>
        <app-click-event
            #right
            [id]="2"
            [original]="'different'"
            [gameCardId]="this.currentGameId"
            [imagePath]="this.gameCardInfo.differenceImageName"
            (incrementScore)="incrementScore()"
            (differences)="addDifferenceDetected($event)"
            (transmitter)="paintPixel($event)"
            *ngIf="this.gameCardInfo"
        ></app-click-event>
        <div class="hint-button">
            <button class="hint" type="button">
                <mat-icon class="hint-button">search</mat-icon>
            </button>
        </div>
    </div>
</body>
